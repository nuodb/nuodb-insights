{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":true,"canStar":true,"canDelete":true,"slug":"sql-statement-records","url":"/d/f1af96f4-c6b6-4813-9cab-39bda6df0650/sql-statement-records","expires":"0001-01-01T00:00:00Z","created":"2023-07-21T22:33:55Z","updated":"2023-07-26T20:55:41Z","updatedBy":"Anonymous","createdBy":"admin","version":10,"hasAcl":false,"isFolder":false,"folderId":20,"folderUid":"b7c2a563-48a3-426d-be2b-0f9fffbd8a85","folderTitle":"nuodb_client","folderUrl":"/dashboards/f/b7c2a563-48a3-426d-be2b-0f9fffbd8a85/nuodb-client","provisioned":false,"provisionedExternalId":"sql-statement-records.json","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":true,"canEdit":true,"canDelete":true}},"publicDashboardAccessToken":"","publicDashboardUid":"","publicDashboardEnabled":false},"dashboard":{"annotations":{"list":[{"$$hashKey":"object:65","builtIn":1,"datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"},{"$$hashKey":"object:2934","datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":false,"iconColor":"rgba(255, 96, 96, 1)","limit":100,"name":"db annotations","showIn":0,"tags":["$database"],"target":{"limit":100,"matchAny":false,"tags":["$database"],"type":"tags"},"type":"tags"}]},"description":"NuoDB Summary","editable":false,"fiscalYearStartMonth":0,"graphTooltip":1,"id":23,"links":[{"asDropdown":true,"icon":"external link","includeVars":true,"keepTime":true,"tags":["overview"],"title":"top views","type":"dashboards"},{"asDropdown":true,"icon":"external link","includeVars":true,"keepTime":true,"tags":["nuodb"],"title":"nuodb","type":"dashboards"},{"asDropdown":true,"icon":"external link","includeVars":true,"keepTime":true,"tags":["sql"],"targetBlank":false,"title":"sql","tooltip":"","type":"dashboards","url":""}],"liveNow":false,"panels":[{"datasource":{"type":"marcusolsson-json-datasource","uid":"fb12902f-919a-4aa9-89de-398bdfce52df"},"fieldConfig":{"defaults":{"color":{"fixedColor":"#C0D8FF","mode":"fixed"},"custom":{"align":"auto","cellOptions":{"type":"color-text"},"inspect":false},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"none"},"overrides":[{"matcher":{"id":"byName","options":"ID"},"properties":[{"id":"custom.hidden","value":true},{"id":"unit","value":"string"}]},{"matcher":{"id":"byName","options":"LOCKED"},"properties":[{"id":"custom.width","value":115}]},{"matcher":{"id":"byName","options":"RECORDSFETCHED"},"properties":[{"id":"custom.width","value":137},{"id":"displayName","value":"FETCHED"}]},{"matcher":{"id":"byName","options":"RECORDSSORTED"},"properties":[{"id":"custom.width","value":169},{"id":"displayName","value":"SORTED"}]},{"matcher":{"id":"byName","options":"EVICTED"},"properties":[{"id":"custom.width","value":119}]},{"matcher":{"id":"byName","options":"NUMEXECUTES"},"properties":[{"id":"custom.width","value":129}]},{"matcher":{"id":"byName","options":"LASTEXECUTED"},"properties":[{"id":"custom.width","value":160}]},{"matcher":{"id":"byName","options":"SQLSTRING"},"properties":[{"id":"custom.inspect","value":true},{"id":"links","value":[{"title":"Statement Details","url":"/d/f13dbb76-dc2a-42b9-af72-88700f6857b8/sql-statement-details?var-id=${__data.fields.ID}\u0026${host:queryparam}"}]}]},{"matcher":{"id":"byName","options":"EXECTIME"},"properties":[{"id":"custom.width","value":113},{"id":"unit","value":"Âµs"}]},{"matcher":{"id":"byName","options":"SORTED"},"properties":[{"id":"custom.width","value":99}]},{"matcher":{"id":"byName","options":"RECORDSFETCHED"},"properties":[{"id":"custom.width","value":121}]}]},"gridPos":{"h":12,"w":24,"x":0,"y":0},"id":10,"interval":"$interval","maxPerRow":2,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["sum"],"show":true},"frameIndex":1,"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.2","repeat":"host","repeatDirection":"v","targets":[{"body":"select LASTEXECUTED\n      ,NUMEXECUTES\n      ,EXECTIME\n      ,RECORDSFETCHED\n      ,LOCKED\n      ,RECORDSSORTED\n      ,EVICTED\n      ,SQLSTRING\n      ,ID\n from system.LOCALSTATEMENTCACHE\nwhere LASTEXECUTED \u003e DATE_SUB(now(), INTERVAL $__interval_ms / 1000 second)\n\n","cacheDurationSeconds":0,"datasource":{"type":"marcusolsson-json-datasource","uid":"fb12902f-919a-4aa9-89de-398bdfce52df"},"fields":[{"jsonPath":"$.rows[*][0]","name":"LASTEXECUTED","type":"time"},{"jsonPath":"$.rows[*][1]","language":"jsonpath","name":"NUMEXECUTES"},{"jsonPath":"$.rows[*][2]","language":"jsonpath","name":"EXECTIME"},{"jsonPath":"$.rows[*][3]","language":"jsonpath","name":"RECORDSFETCHED"},{"jsonPath":"$.rows[*][4]","language":"jsonpath","name":"LOCKED"},{"jsonPath":"$.rows[*][5]","language":"jsonpath","name":"RECORDSSORTED"},{"jsonPath":"$.rows[*][6]","language":"jsonpath","name":"EVICTED"},{"jsonPath":"$.rows[*][7]","language":"jsonpath","name":"SQLSTRING"},{"jsonPath":"$.rows[*][8]","language":"jsonpath","name":"ID","type":"string"}],"method":"POST","params":[["dbname","$database"],["hostname","$host"]],"queryParams":"","refId":"A","urlPath":"/query"}],"title":"Records ($host)","type":"table"}],"refresh":"30s","schemaVersion":38,"style":"dark","tags":["sql"],"templating":{"list":[{"auto":true,"auto_count":"50","auto_min":"10s","current":{"selected":false,"text":"10s","value":"10s"},"hide":0,"label":"interval","name":"interval","options":[{"selected":false,"text":"auto","value":"$__auto_interval_interval"},{"selected":true,"text":"10s","value":"10s"},{"selected":false,"text":"30s","value":"30s"},{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"5m","value":"5m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"15m","value":"15m"},{"selected":false,"text":"30m","value":"30m"},{"selected":false,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"10s,30s,1m,5m,10m,15m,30m,1h,6h,12h,1d,7d,14d,30d","queryValue":"","refresh":2,"skipUrlSync":false,"type":"interval"},{"allValue":".*","current":{"selected":false,"text":"test","value":"test"},"datasource":{"type":"influxdb","uid":"P7F1571328205BBA6"},"definition":"","hide":0,"includeAll":false,"label":"Database","multi":false,"name":"database","options":[],"query":"select distinct(\"db\") from (select first(raw) from \"Milliseconds\" where $timeFilter GROUP BY \"db\")\n","refresh":2,"regex":".*","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"allValue":".*","current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"influxdb","uid":"P7F1571328205BBA6"},"definition":"","hide":0,"includeAll":true,"label":"Host","multi":true,"name":"host","options":[],"query":"select distinct(\"host\") from (select first(raw) from \"Milliseconds\" where $timeFilter AND db =~ /$database$/ AND nodetype = 'Transaction' GROUP BY \"host\")\n","refresh":2,"regex":".*","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-30m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Sql Statement Records","uid":"f1af96f4-c6b6-4813-9cab-39bda6df0650","version":10,"weekStart":""}}